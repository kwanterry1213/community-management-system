var A=Object.defineProperty,K=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var I=(s,n,l)=>n in s?A(s,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[n]=l,U=(s,n)=>{for(var l in n||(n={}))J.call(n,l)&&I(s,l,n[l]);if(z)for(var l of z(n))Q.call(n,l)&&I(s,l,n[l]);return s},N=(s,n)=>K(s,Y(n));import{c as F,n as B,t as R,C as W,e as T,h as X,m as Z,w as D,j as ee,D as te,k as oe,z as se,I as E}from"./index-CDxJsEB3.js";/* empty css              *//* empty css              *//* empty css              */import{P as ne}from"./index-DYRy_5y9.js";/* empty css              *//* empty css              */import{C as ae}from"./index-DYpDMpii.js";import{F as le}from"./index-BvfrUZFn.js";import{C as ie}from"./index-WPZnnyNE.js";import{u as re}from"./member-_9lrcxvK.js";import{h as G,a as o,m as x,s as de,_ as ue,c as q,k as t,t as g,g as V,b as c,r as w,o as S,F as me,l as ce,e as pe,n as ve}from"./index-CYNoNFn7.js";import{u as fe,r as be}from"./use-route-5Jp667pb.js";import{P as _e}from"./index--jaruAqB.js";import{F as ge}from"./index-C9l5sb2Z.js";import{B as ke}from"./index-BTb55al6.js";import{a as xe}from"./function-call-B8E4hwbK.js";import"./use-touch-CoLEfbaL.js";import"./use-id-zzKfe8rB.js";import"./interceptor-SwkErRcB.js";const[O,he]=F("grid"),Ce={square:Boolean,center:R,border:R,gutter:B,reverse:Boolean,iconSize:B,direction:String,clickable:Boolean,columnNum:Z(4)},j=Symbol(O);var ye=G({name:O,props:Ce,setup(s,{slots:n}){const{linkChildren:l}=X(j);return l({props:s}),()=>{var u;return o("div",{style:{paddingLeft:T(s.gutter)},class:[he(),{[W]:s.border&&!s.gutter}]},[(u=n.default)==null?void 0:u.call(n)])}}});const Pe=D(ye),[Ve,k]=F("grid-item"),we=oe({},be,{dot:Boolean,text:String,icon:String,badge:B,iconColor:String,iconPrefix:String,badgeProps:Object});var Se=G({name:Ve,props:we,setup(s,{slots:n}){const{parent:l,index:u}=ee(j),v=fe();if(!l)return;const d=x(()=>{const{square:i,gutter:e,columnNum:r}=l.props,m=`${100/+r}%`,p={flexBasis:m};if(i)p.paddingTop=m;else if(e){const b=T(e);p.paddingRight=b,u.value>=+r&&(p.marginTop=b)}return p}),h=x(()=>{const{square:i,gutter:e}=l.props;if(i&&e){const r=T(e);return{right:r,bottom:r,height:"auto"}}}),C=()=>{if(n.icon)return o(se,de({dot:s.dot,content:s.badge},s.badgeProps),{default:n.icon});if(s.icon)return o(E,{dot:s.dot,name:s.icon,size:l.props.iconSize,badge:s.badge,class:k("icon"),color:s.iconColor,badgeProps:s.badgeProps,classPrefix:s.iconPrefix},null)},y=()=>{if(n.text)return n.text();if(s.text)return o("span",{class:k("text")},[s.text])},P=()=>n.default?n.default():[C(),y()];return()=>{const{center:i,border:e,square:r,gutter:m,reverse:p,direction:b,clickable:_}=l.props,f=[k("content",[b,{center:i,square:r,reverse:p,clickable:_,surround:e&&m}]),{[te]:e}];return o("div",{class:[k({square:r})],style:d.value},[o("div",{role:_?"button":void 0,class:f,style:h.value,tabindex:_?0:void 0,onClick:v},[P()])])}}});const Be=D(Se),Te={class:"page home-page"},$e={class:"welcome-card"},ze={class:"kpi-grid"},Ie={class:"kpi-card blue"},Ue={class:"kpi-icon"},Ne={class:"kpi-value"},Re={class:"kpi-card green"},qe={class:"kpi-icon"},Fe={class:"kpi-value"},De={class:"kpi-card orange"},Ee={class:"kpi-icon"},Ge={class:"kpi-value"},Oe={class:"kpi-card gold"},je={class:"kpi-icon"},He={class:"kpi-value"},Le={class:"card"},Me={class:"card-title"},Ae={class:"card"},Ke={class:"card-title"},Ye=["src"],Je={class:"popup-header"},Qe={class:"popup-footer"},We={__name:"Home",setup(s){const n=re(),l=x(()=>n.stats),u=w(!1),v=w(!1),d=w({name:"",phone:"",email:"",company:"",membership:"",membershipText:""}),h=[{text:"普通會員",value:"normal"},{text:"銀級會員",value:"silver"},{text:"金級會員",value:"gold"},{text:"企業會員",value:"enterprise"}],C=x(()=>n.members.filter(i=>i.status==="pending"||i.status==="expired").slice(0,3).map(i=>N(U({},i),{action:i.status==="pending"?"新會員申請審核":"會籍已過期，待續費",statusText:n.statusTypes[i.status].label}))),y=({selectedOptions:i})=>{d.value.membership=i[0].value,d.value.membershipText=i[0].text,v.value=!1},P=()=>{xe("會員新增成功"),u.value=!1,d.value={name:"",phone:"",email:"",company:"",membership:"",membershipText:""}};return(i,e)=>{const r=E,m=Be,p=Pe,b=ae,_=ie,f=le,H=ke,L=ge,$=_e,M=ne;return S(),q("div",Te,[t("div",$e,[e[12]||(e[12]=t("div",{class:"welcome-info"},[t("h1",null,"會籍管理系統"),t("p",null,"歡迎回來，管理員")],-1)),o(r,{name:"bell",size:"24",color:"#fff",badge:"3"})]),t("div",ze,[t("div",Ie,[t("div",Ue,[o(r,{name:"friends-o",size:"20"})]),e[13]||(e[13]=t("div",{class:"kpi-label"},"會員總數",-1)),t("div",Ne,g(l.value.total),1)]),t("div",Re,[t("div",qe,[o(r,{name:"passed",size:"20"})]),e[14]||(e[14]=t("div",{class:"kpi-label"},"有效會員",-1)),t("div",Fe,g(l.value.active),1)]),t("div",De,[t("div",Ee,[o(r,{name:"clock-o",size:"20"})]),e[15]||(e[15]=t("div",{class:"kpi-label"},"待審核",-1)),t("div",Ge,g(l.value.pending),1)]),t("div",Oe,[t("div",je,[o(r,{name:"warning-o",size:"20"})]),e[16]||(e[16]=t("div",{class:"kpi-label"},"已過期",-1)),t("div",He,g(l.value.expired),1)])]),t("div",Le,[t("div",Me,[o(r,{name:"apps-o"}),e[17]||(e[17]=V(" 快捷操作",-1))]),o(p,{"column-num":4,border:!1},{default:c(()=>[o(m,{icon:"add-o",text:"新增會員",onClick:e[0]||(e[0]=a=>u.value=!0)}),o(m,{icon:"scan",text:"掃碼簽到"}),o(m,{icon:"bill-o",text:"收款確認",to:"/admin/payments"}),o(m,{icon:"chart-trending-o",text:"數據報表"})]),_:1})]),t("div",Ae,[t("div",Ke,[o(r,{name:"todo-list-o"}),e[18]||(e[18]=V(" 待處理事項 ",-1)),t("span",{class:"card-more",onClick:e[1]||(e[1]=a=>i.$router.push("/admin/members"))},"查看全部")]),o(_,{border:!1},{default:c(()=>[(S(!0),q(me,null,ce(C.value,a=>(S(),pe(b,{key:a.id,title:a.name,label:a.action,"is-link":"",onClick:Xe=>i.$router.push(`/admin/member/${a.id}`)},{icon:c(()=>[t("img",{src:a.avatar,class:"cell-avatar"},null,8,Ye)]),value:c(()=>[t("span",{class:ve(["status-tag",a.status])},g(a.statusText),3)]),_:2},1032,["title","label","onClick"]))),128))]),_:1})]),o($,{show:u.value,"onUpdate:show":e[9]||(e[9]=a=>u.value=a),position:"bottom",round:"",style:{height:"70%"}},{default:c(()=>[t("div",Je,[e[19]||(e[19]=t("span",null,"新增會員",-1)),o(r,{name:"cross",onClick:e[2]||(e[2]=a=>u.value=!1)})]),o(L,{onSubmit:P},{default:c(()=>[o(_,{inset:""},{default:c(()=>[o(f,{modelValue:d.value.name,"onUpdate:modelValue":e[3]||(e[3]=a=>d.value.name=a),label:"姓名",placeholder:"請輸入會員姓名",rules:[{required:!0}]},null,8,["modelValue"]),o(f,{modelValue:d.value.phone,"onUpdate:modelValue":e[4]||(e[4]=a=>d.value.phone=a),label:"電話",type:"tel",placeholder:"請輸入聯絡電話",rules:[{required:!0}]},null,8,["modelValue"]),o(f,{modelValue:d.value.email,"onUpdate:modelValue":e[5]||(e[5]=a=>d.value.email=a),label:"郵箱",type:"email",placeholder:"請輸入電子郵件"},null,8,["modelValue"]),o(f,{modelValue:d.value.company,"onUpdate:modelValue":e[6]||(e[6]=a=>d.value.company=a),label:"公司",placeholder:"請輸入公司名稱"},null,8,["modelValue"]),o(f,{modelValue:d.value.membershipText,"onUpdate:modelValue":e[7]||(e[7]=a=>d.value.membershipText=a),"is-link":"",readonly:"",label:"會籍類型",placeholder:"請選擇會籍類型",onClick:e[8]||(e[8]=a=>v.value=!0)},null,8,["modelValue"])]),_:1}),t("div",Qe,[o(H,{round:"",block:"",type:"primary","native-type":"submit"},{default:c(()=>[...e[20]||(e[20]=[V("確認新增",-1)])]),_:1})])]),_:1})]),_:1},8,["show"]),o($,{show:v.value,"onUpdate:show":e[11]||(e[11]=a=>v.value=a),position:"bottom"},{default:c(()=>[o(M,{columns:h,onConfirm:y,onCancel:e[10]||(e[10]=a=>v.value=!1)})]),_:1},8,["show"])])}}},xt=ue(We,[["__scopeId","data-v-c4e3eb06"]]);export{xt as default};
