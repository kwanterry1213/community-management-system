var H=Object.defineProperty;var M=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var T=(n,t,a)=>t in n?H(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,S=(n,t)=>{for(var a in t||(t={}))J.call(t,a)&&T(n,a,t[a]);if(M)for(var a of M(t))K.call(t,a)&&T(n,a,t[a]);return n};var D=(n,t,a)=>new Promise((k,g)=>{var c=r=>{try{v(a.next(r))}catch(u){g(u)}},d=r=>{try{v(a.throw(r))}catch(u){g(u)}},v=r=>r.done?k(r.value):Promise.resolve(r.value).then(c,d);v((a=a.apply(n,t)).next())});import{j as N,n as O,k as Q,e as R,c as W,w as X,I as Y}from"./index-pIsoowXj.js";/* empty css              */import{C as Z}from"./index-CaGuX9-q.js";import{F as ee}from"./index--obiwcG1.js";/* empty css              */import{C as le}from"./index-DrEKSKiI.js";import{N as oe}from"./index-ByKFqxoW.js";import{g as te,a as l,_ as ae,b as V,c as ne,k as s,t as I,n as se,w as i,d as ie,q as ue,m as E,o as j,f as $}from"./index-BeFoTnU0.js";import{L as de,B as re}from"./use-touch-CQ0KiIgh.js";import{F as me}from"./index-BblB5TRK.js";import{P as ve}from"./index-DOQbNXlc.js";import{a as w}from"./function-call-DhAxHPZA.js";import{a as pe}from"./function-call-DcXM725t.js";import"./use-id-CnE4ft7C.js";import"./use-placeholder-D3lTG0YH.js";const[ce,L]=W("switch"),fe={size:O,loading:Boolean,disabled:Boolean,modelValue:N,activeColor:String,inactiveColor:String,activeValue:{type:N,default:!0},inactiveValue:{type:N,default:!1}};var Ve=te({name:ce,props:fe,emits:["change","update:modelValue"],setup(n,{emit:t,slots:a}){const k=()=>n.modelValue===n.activeValue,g=()=>{if(!n.disabled&&!n.loading){const d=k()?n.inactiveValue:n.activeValue;t("update:modelValue",d),t("change",d)}},c=()=>{if(n.loading){const d=k()?n.activeColor:n.inactiveColor;return l(de,{class:L("loading"),color:d},null)}if(a.node)return a.node()};return Q(()=>n.modelValue),()=>{var d;const{size:v,loading:r,disabled:u,activeColor:p,inactiveColor:C}=n,_=k(),P={fontSize:R(v),backgroundColor:_?p:C};return l("div",{role:"switch",class:L({on:_,loading:r,disabled:u}),style:P,tabindex:u?void 0:0,"aria-checked":_,onClick:g},[l("div",{class:L("node")},[c()]),(d=a.background)==null?void 0:d.call(a)])}}});const ke=X(Ve),ye={class:"profile-page"},be={class:"user-card"},ge=["src"],we={class:"user-details"},Ce={class:"user-name"},_e={class:"user-level"},he={class:"logout-section"},Ue={class:"popup-content"},$e={class:"popup-header"},Pe={style:{padding:"16px"}},xe={class:"popup-content"},ze={class:"popup-header"},Be={style:{padding:"16px"}},Fe={class:"popup-content"},Se={class:"popup-header"},Ne={style:{padding:"16px"}},Ie={__name:"MemberProfile",setup(n){const t=V({id:"M-2024-0158",name:"陳大明",level:"committee",phone:"0912-345-678",email:"daming.chen@email.com",company:"大明科技股份有限公司",title:"總經理",address:"台北市中正區忠孝東路100號",avatar:"https://ui-avatars.com/api/?name=陳大明&background=1a365d&color=fff&size=128"}),a=E(()=>({committee:{name:"未來街坊圈圈委",icon:"⭐⭐⭐"},citizen:{name:"未來街坊圈圈民",icon:"⭐⭐"},friend:{name:"未來街坊圈圈友",icon:"⭐"}})[t.value.level]),k=E(()=>t.value.phone.replace(/(\d{4})-(\d{3})-(\d{3})/,"$1-***-$3")),g=E(()=>{const y=t.value.email,[e,x]=y.split("@");return`${e.slice(0,2)}***@${x}`}),c=V({events:!0,payment:!0,system:!0}),d=V(!1),v=V(!1),r=V(!1),u=V({name:t.value.name,phone:t.value.phone,email:t.value.email,company:t.value.company,title:t.value.title,address:t.value.address}),p=V({current:"",new:"",confirm:""}),C=V(""),_=()=>{t.value=S(S({},t.value),u.value),w({type:"success",message:"儲存成功"}),d.value=!1},P=()=>{if(p.value.new!==p.value.confirm){w({type:"fail",message:"兩次密碼不一致"});return}w({type:"success",message:"密碼修改成功"}),v.value=!1,p.value={current:"",new:"",confirm:""}},q=()=>{w({message:"客服電話：02-1234-5678"})},G=()=>{w({type:"success",message:"感謝您的反饋！"}),r.value=!1,C.value=""},A=()=>D(null,null,function*(){try{yield pe({title:"確認登出",message:"確定要登出帳號嗎？"}),w({message:"已登出"})}catch(y){}});return(y,e)=>{const x=oe,h=Y,m=Z,b=le,z=ke,U=re,f=ee,B=me,F=ve;return j(),ne("div",ye,[l(x,{title:"我的"}),s("div",be,[s("div",{class:"user-info",onClick:e[0]||(e[0]=o=>y.$router.push("/m/membership"))},[s("img",{src:t.value.avatar,class:"user-avatar"},null,8,ge),s("div",we,[s("div",Ce,I(t.value.name),1),s("div",_e,[s("span",{class:se(["level-badge",t.value.level])},I(a.value.icon)+" "+I(a.value.name),3)])]),l(h,{name:"arrow",color:"#c0c4cc"})])]),l(b,{inset:"",title:"帳戶設定"},{default:i(()=>[l(m,{title:"個人資料",icon:"user-o","is-link":"",onClick:e[1]||(e[1]=o=>d.value=!0)}),l(m,{title:"修改密碼",icon:"lock","is-link":"",onClick:e[2]||(e[2]=o=>v.value=!0)}),l(m,{title:"綁定手機",icon:"phone-o",value:k.value,"is-link":""},null,8,["value"]),l(m,{title:"綁定信箱",icon:"envelop-o",value:g.value,"is-link":""},null,8,["value"])]),_:1}),l(b,{inset:"",title:"通知設定"},{default:i(()=>[l(m,{title:"活動通知",icon:"bell"},{"right-icon":i(()=>[l(z,{modelValue:c.value.events,"onUpdate:modelValue":e[3]||(e[3]=o=>c.value.events=o),size:"20"},null,8,["modelValue"])]),_:1}),l(m,{title:"繳費提醒",icon:"clock-o"},{"right-icon":i(()=>[l(z,{modelValue:c.value.payment,"onUpdate:modelValue":e[4]||(e[4]=o=>c.value.payment=o),size:"20"},null,8,["modelValue"])]),_:1}),l(m,{title:"系統公告",icon:"volume-o"},{"right-icon":i(()=>[l(z,{modelValue:c.value.system,"onUpdate:modelValue":e[5]||(e[5]=o=>c.value.system=o),size:"20"},null,8,["modelValue"])]),_:1})]),_:1}),l(b,{inset:"",title:"其他"},{default:i(()=>[l(m,{title:"聯絡客服",icon:"service-o","is-link":"",onClick:q}),l(m,{title:"意見反饋",icon:"comment-o","is-link":"",onClick:e[6]||(e[6]=o=>r.value=!0)}),l(m,{title:"關於我們",icon:"info-o","is-link":""}),l(m,{title:"使用條款",icon:"description","is-link":""})]),_:1}),t.value.level==="committee"?(j(),ie(b,{key:0,inset:"",title:"管理功能"},{default:i(()=>[l(m,{title:"進入管理後台",icon:"setting-o","is-link":"",onClick:e[7]||(e[7]=o=>y.$router.push("/admin"))},{label:i(()=>[...e[24]||(e[24]=[s("span",{style:{color:"#d69e2e"}},"圈圈委專屬",-1)])]),_:1})]),_:1})):ue("",!0),s("div",he,[l(U,{type:"default",block:"",round:"",onClick:A},{default:i(()=>[...e[25]||(e[25]=[$(" 登出帳號 ",-1)])]),_:1})]),e[32]||(e[32]=s("div",{class:"version-info"}," 版本 1.0.0 ",-1)),l(F,{show:d.value,"onUpdate:show":e[15]||(e[15]=o=>d.value=o),position:"bottom",round:"",style:{height:"70%"}},{default:i(()=>[s("div",Ue,[s("div",$e,[e[26]||(e[26]=s("span",null,"編輯個人資料",-1)),l(h,{name:"cross",onClick:e[8]||(e[8]=o=>d.value=!1)})]),l(B,{onSubmit:_},{default:i(()=>[l(b,{inset:""},{default:i(()=>[l(f,{modelValue:u.value.name,"onUpdate:modelValue":e[9]||(e[9]=o=>u.value.name=o),label:"姓名",placeholder:"請輸入姓名"},null,8,["modelValue"]),l(f,{modelValue:u.value.phone,"onUpdate:modelValue":e[10]||(e[10]=o=>u.value.phone=o),label:"電話",placeholder:"請輸入電話"},null,8,["modelValue"]),l(f,{modelValue:u.value.email,"onUpdate:modelValue":e[11]||(e[11]=o=>u.value.email=o),label:"信箱",placeholder:"請輸入信箱"},null,8,["modelValue"]),l(f,{modelValue:u.value.company,"onUpdate:modelValue":e[12]||(e[12]=o=>u.value.company=o),label:"公司",placeholder:"請輸入公司名稱"},null,8,["modelValue"]),l(f,{modelValue:u.value.title,"onUpdate:modelValue":e[13]||(e[13]=o=>u.value.title=o),label:"職稱",placeholder:"請輸入職稱"},null,8,["modelValue"]),l(f,{modelValue:u.value.address,"onUpdate:modelValue":e[14]||(e[14]=o=>u.value.address=o),label:"地址",type:"textarea",rows:"2",placeholder:"請輸入聯絡地址"},null,8,["modelValue"])]),_:1}),s("div",Pe,[l(U,{type:"primary",block:"",round:"","native-type":"submit"},{default:i(()=>[...e[27]||(e[27]=[$("儲存",-1)])]),_:1})])]),_:1})])]),_:1},8,["show"]),l(F,{show:v.value,"onUpdate:show":e[20]||(e[20]=o=>v.value=o),position:"bottom",round:"",style:{height:"50%"}},{default:i(()=>[s("div",xe,[s("div",ze,[e[28]||(e[28]=s("span",null,"修改密碼",-1)),l(h,{name:"cross",onClick:e[16]||(e[16]=o=>v.value=!1)})]),l(B,{onSubmit:P},{default:i(()=>[l(b,{inset:""},{default:i(()=>[l(f,{modelValue:p.value.current,"onUpdate:modelValue":e[17]||(e[17]=o=>p.value.current=o),type:"password",label:"目前密碼",placeholder:"請輸入目前密碼"},null,8,["modelValue"]),l(f,{modelValue:p.value.new,"onUpdate:modelValue":e[18]||(e[18]=o=>p.value.new=o),type:"password",label:"新密碼",placeholder:"請輸入新密碼"},null,8,["modelValue"]),l(f,{modelValue:p.value.confirm,"onUpdate:modelValue":e[19]||(e[19]=o=>p.value.confirm=o),type:"password",label:"確認密碼",placeholder:"請再次輸入新密碼"},null,8,["modelValue"])]),_:1}),s("div",Be,[l(U,{type:"primary",block:"",round:"","native-type":"submit"},{default:i(()=>[...e[29]||(e[29]=[$("確認修改",-1)])]),_:1})])]),_:1})])]),_:1},8,["show"]),l(F,{show:r.value,"onUpdate:show":e[23]||(e[23]=o=>r.value=o),position:"bottom",round:"",style:{height:"50%"}},{default:i(()=>[s("div",Fe,[s("div",Se,[e[30]||(e[30]=s("span",null,"意見反饋",-1)),l(h,{name:"cross",onClick:e[21]||(e[21]=o=>r.value=!1)})]),l(B,{onSubmit:G},{default:i(()=>[l(b,{inset:""},{default:i(()=>[l(f,{modelValue:C.value,"onUpdate:modelValue":e[22]||(e[22]=o=>C.value=o),type:"textarea",rows:"5",placeholder:"請輸入您的意見或建議...","show-word-limit":"",maxlength:"500"},null,8,["modelValue"])]),_:1}),s("div",Ne,[l(U,{type:"primary",block:"",round:"","native-type":"submit"},{default:i(()=>[...e[31]||(e[31]=[$("提交反饋",-1)])]),_:1})])]),_:1})])]),_:1},8,["show"])])}}},Xe=ae(Ie,[["__scopeId","data-v-d62b2aa0"]]);export{Xe as default};
