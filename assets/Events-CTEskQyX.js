var $=(r,p,c)=>new Promise((v,s)=>{var f=i=>{try{u(c.next(i))}catch(m){s(m)}},_=i=>{try{u(c.throw(i))}catch(m){s(m)}},u=i=>i.done?v(i.value):Promise.resolve(i.value).then(f,_);u((c=c.apply(r,p)).next())});import{w as q,n as I,t as G,e as H,c as J,I as K}from"./index-M2RwkOmD.js";/* empty css              *//* empty css              */import{T as Q,P as X,a as Y}from"./index-Bh7GwHjR.js";import{E as Z}from"./index-1JcpeV8c.js";import{T as tt}from"./index-C-T3EzUG.js";/* empty css              */import{N as et}from"./index-BPqN2r_8.js";import{g as st,a,m as D,_ as ot,c as w,w as g,b as E,o as d,k as t,F as at,l as lt,t as n,n as N,f as h,d as y,p as nt,q as x}from"./index-BCHZ0ZDp.js";import{s as it,a as V}from"./function-call-YE5TamvA.js";import{s as rt,a as O}from"./function-call-BRoHAfeW.js";import{P as dt}from"./index-k7JcCHgp.js";import{B as ct}from"./use-touch-BDVozqpq.js";import"./use-id-CcAXWJTY.js";import"./use-placeholder-DZ-FIvA6.js";q(rt);q(it);const[ut,T]=J("progress"),pt={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:G,pivotColor:String,trackColor:String,strokeWidth:I,percentage:{type:I,default:0,validator:r=>+r>=0&&+r<=100}};var mt=st({name:ut,props:pt,setup(r){const p=D(()=>r.inactive?void 0:r.color),c=s=>Math.min(Math.max(+s,0),100),v=()=>{const{textColor:s,pivotText:f,pivotColor:_,percentage:u}=r,i=c(u),m=f!=null?f:`${u}%`;if(r.showPivot&&m){const P={color:s,left:`${i}%`,transform:`translate(-${i}%,-50%)`,background:_||p.value};return a("span",{style:P,class:T("pivot",{inactive:r.inactive})},[m])}};return()=>{const{trackColor:s,percentage:f,strokeWidth:_}=r,u=c(f),i={background:s,height:H(_)},m={width:`${u}%`,background:p.value};return a("div",{class:T(),style:i},[a("span",{class:T("portion",{inactive:r.inactive}),style:m},null),v()])}}});const vt=q(mt),ft={class:"events-page"},_t={class:"event-list"},gt=["onClick"],ht=["src"],yt={class:"event-content"},kt={class:"event-date-badge"},bt={class:"month"},wt={class:"day"},Et={class:"event-info"},Ct={class:"event-title"},Pt={class:"event-meta"},$t={class:"event-footer"},xt={class:"event-progress"},Tt={class:"progress-text"},qt={key:0,class:"event-detail"},Bt=["src"],St={class:"detail-content"},It={class:"detail-info-list"},Nt={class:"detail-info-item"},Vt={class:"value"},Ot={class:"detail-info-item"},Dt={class:"value"},Mt={class:"detail-info-item"},Ut={class:"value"},Ft={key:0,class:"detail-info-item"},Rt={class:"value"},zt={class:"detail-description"},At={class:"detail-footer"},Lt={__name:"Events",setup(r){const p=E("all"),c=E(!1),v=E(!1),s=E(null),f={seminar:"講座",gathering:"聚會",workshop:"工作坊",meeting:"會議"},_=E([{id:1,title:"街坊創業分享會",type:"seminar",date:"2026/02/15",time:"14:00 - 16:00",location:"社區中心 B1 會議室",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=600&h=300&fit=crop",enrolled:23,quota:30,fee:0,memberOnly:!1,isEnrolled:!1,description:"邀請多位成功創業的街坊分享他們的創業心得與經驗，適合想創業或正在創業的朋友參加。"},{id:2,title:"新春團拜聚餐",type:"gathering",date:"2026/02/20",time:"18:00 - 21:00",location:"金龍餐廳 (中正路88號)",image:"https://images.unsplash.com/photo-1555244162-803834f70033?w=600&h=300&fit=crop",enrolled:45,quota:50,fee:80,memberOnly:!0,isEnrolled:!0,description:"一年一度的新春團拜聚餐，歡迎所有圈圈委及圈圈民攜家帶眷參加！"},{id:3,title:"AI 應用工作坊",type:"workshop",date:"2026/03/01",time:"09:00 - 12:00",location:"創新中心 3F",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=600&h=300&fit=crop",enrolled:15,quota:20,fee:80,memberOnly:!1,isEnrolled:!1,description:"學習如何在日常工作中運用 AI 工具提升效率，實作練習為主。"},{id:4,title:"第一季會員大會",type:"meeting",date:"2026/03/15",time:"19:00 - 21:00",location:"社區中心 大禮堂",image:"https://images.unsplash.com/photo-1505373877841-8d25f7d46678?w=600&h=300&fit=crop",enrolled:58,quota:100,fee:0,memberOnly:!1,isEnrolled:!1,description:"2026年第一季會員大會，討論年度計畫與預算，歡迎所有圈圈友以上會員參加。"}]),u=D(()=>p.value==="all"?_.value:p.value==="mine"?_.value.filter(l=>l.isEnrolled):_.value.filter(l=>l.type===p.value)),i=l=>{const[,e]=l.split("/");return`${parseInt(e)}月`},m=l=>{const[,,e]=l.split("/");return e},P=l=>{s.value=l,v.value=!0},B=l=>$(null,null,function*(){try{yield V({title:"確認報名",message:`確定要報名「${l.title}」嗎？`}),l.isEnrolled=!0,l.enrolled++,O({type:"success",message:"報名成功！"}),v.value=!1}catch(e){}}),M=l=>$(null,null,function*(){try{yield V({title:"取消報名",message:"確定要取消報名嗎？"}),l.isEnrolled=!1,l.enrolled--,O({message:"已取消報名"}),v.value=!1}catch(e){}}),U=()=>{setTimeout(()=>{c.value=!1},1e3)};return(l,e)=>{const F=et,b=Y,R=Q,k=K,z=vt,C=ct,S=tt,A=Z,L=X,W=dt;return d(),w("div",ft,[a(F,{title:"活動"}),a(R,{active:p.value,"onUpdate:active":e[0]||(e[0]=o=>p.value=o),sticky:""},{default:g(()=>[a(b,{title:"全部",name:"all"}),a(b,{title:"講座",name:"seminar"}),a(b,{title:"聚會",name:"gathering"}),a(b,{title:"工作坊",name:"workshop"}),a(b,{title:"我的報名",name:"mine"})]),_:1},8,["active"]),a(L,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),onRefresh:U},{default:g(()=>[t("div",_t,[(d(!0),w(at,null,lt(u.value,o=>(d(),w("div",{key:o.id,class:"event-card",onClick:j=>P(o)},[t("img",{src:o.image,class:"event-cover"},null,8,ht),t("div",yt,[t("div",kt,[t("span",bt,n(i(o.date)),1),t("span",wt,n(m(o.date)),1)]),t("div",Et,[t("span",{class:N(["event-type-tag",o.type])},n(f[o.type]),3),t("h3",Ct,n(o.title),1),t("div",Pt,[t("span",null,[a(k,{name:"clock-o"}),h(" "+n(o.time),1)]),t("span",null,[a(k,{name:"location-o"}),h(" "+n(o.location),1)])]),t("div",$t,[t("div",xt,[a(z,{percentage:o.enrolled/o.quota*100,"show-pivot":!1,"stroke-width":"4"},null,8,["percentage"]),t("span",Tt,n(o.enrolled)+"/"+n(o.quota)+" 人已報名",1)]),!o.isEnrolled&&o.enrolled<o.quota?(d(),y(C,{key:0,size:"small",type:"primary",round:"",onClick:nt(j=>B(o),["stop"])},{default:g(()=>[...e[5]||(e[5]=[h(" 報名 ",-1)])]),_:1},8,["onClick"])):o.isEnrolled?(d(),y(S,{key:1,type:"success",round:""},{default:g(()=>[...e[6]||(e[6]=[h("已報名",-1)])]),_:1})):(d(),y(S,{key:2,type:"default",round:""},{default:g(()=>[...e[7]||(e[7]=[h("已額滿",-1)])]),_:1}))])])])],8,gt))),128)),u.value.length===0?(d(),y(A,{key:0,description:"暫無活動"})):x("",!0)])]),_:1},8,["modelValue"]),a(W,{show:v.value,"onUpdate:show":e[4]||(e[4]=o=>v.value=o),position:"bottom",round:"",style:{height:"80%"}},{default:g(()=>[s.value?(d(),w("div",qt,[t("img",{src:s.value.image,class:"detail-cover"},null,8,Bt),t("div",St,[t("span",{class:N(["event-type-tag",s.value.type])},n(f[s.value.type]),3),t("h2",null,n(s.value.title),1),t("div",It,[t("div",Nt,[a(k,{name:"clock-o"}),t("div",null,[e[8]||(e[8]=t("span",{class:"label"},"時間",-1)),t("span",Vt,n(s.value.date)+" "+n(s.value.time),1)])]),t("div",Ot,[a(k,{name:"location-o"}),t("div",null,[e[9]||(e[9]=t("span",{class:"label"},"地點",-1)),t("span",Dt,n(s.value.location),1)])]),t("div",Mt,[a(k,{name:"friends-o"}),t("div",null,[e[10]||(e[10]=t("span",{class:"label"},"人數",-1)),t("span",Ut,n(s.value.enrolled)+"/"+n(s.value.quota)+" 人",1)])]),s.value.fee?(d(),w("div",Ft,[a(k,{name:"gold-coin-o"}),t("div",null,[e[11]||(e[11]=t("span",{class:"label"},"費用",-1)),t("span",Rt,n(s.value.memberOnly?"會員專屬":`MOP$ ${s.value.fee}`),1)])])):x("",!0)]),t("div",zt,[e[12]||(e[12]=t("h4",null,"活動說明",-1)),t("p",null,n(s.value.description||"歡迎所有街坊參與！詳細內容請關注後續通知。"),1)])]),t("div",At,[!s.value.isEnrolled&&s.value.enrolled<s.value.quota?(d(),y(C,{key:0,type:"primary",block:"",round:"",onClick:e[2]||(e[2]=o=>B(s.value))},{default:g(()=>[...e[13]||(e[13]=[h(" 立即報名 ",-1)])]),_:1})):s.value.isEnrolled?(d(),y(C,{key:1,type:"danger",plain:"",block:"",round:"",onClick:e[3]||(e[3]=o=>M(s.value))},{default:g(()=>[...e[14]||(e[14]=[h(" 取消報名 ",-1)])]),_:1})):(d(),y(C,{key:2,disabled:"",block:"",round:""},{default:g(()=>[...e[15]||(e[15]=[h("已額滿",-1)])]),_:1}))])])):x("",!0)]),_:1},8,["show"])])}}},ne=ot(Lt,[["__scopeId","data-v-698b492a"]]);export{ne as default};
