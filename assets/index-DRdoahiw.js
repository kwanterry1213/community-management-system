import{f as d,F as V}from"./index-BB34gc-r.js";import{u as _}from"./use-id-BxO-C31K.js";import{u as F}from"./use-touch-DEAjym_J.js";import{c as L,k as f,t as N,v as i,p as u,q as T,w as B}from"./index-Dfity5xd.js";import{h as D,a as o,s as O,r as q}from"./index-BbGaNgdP.js";const[K,t,j]=L("search"),M=f({},d,{label:String,shape:i("square"),leftIcon:i("search"),clearable:N,actionText:String,background:String,showAction:Boolean});var U=D({name:K,props:M,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:c,slots:a,attrs:b}){const h=_(),l=q(),k=()=>{a.action||(c("update:modelValue",""),c("cancel"))},p=e=>{e.keyCode===13&&(T(e),c("search",n.modelValue))},r=()=>n.id||`${h}-input`,I=()=>{if(a.label||n.label)return o("label",{class:t("label"),for:r(),"data-allow-mismatch":"attribute"},[a.label?a.label():n.label])},g=()=>{if(n.showAction){const e=n.actionText||j("cancel");return o("div",{class:t("action"),role:"button",tabindex:0,onClick:k},[a.action?a.action():e])}},m=()=>{var e;return(e=l.value)==null?void 0:e.blur()},C=()=>{var e;return(e=l.value)==null?void 0:e.focus()},v=e=>c("blur",e),w=e=>c("focus",e),x=e=>c("clear",e),E=e=>c("clickInput",e),R=e=>c("clickLeftIcon",e),S=e=>c("clickRightIcon",e),y=Object.keys(d),A=()=>{const e=f({},b,u(n,y),{id:r()}),s=P=>c("update:modelValue",P);return o(V,O({ref:l,type:"search",class:t("field",{"with-message":e.errorMessage}),border:!1,labelAlign:"left",onBlur:v,onFocus:w,onClear:x,onKeypress:p,onClickInput:E,onClickLeftIcon:R,onClickRightIcon:S,"onUpdate:modelValue":s},e),u(a,["left-icon","right-icon"]))};return F({focus:C,blur:m}),()=>{var e;return o("div",{class:t({"show-action":n.showAction}),style:{background:n.background}},[(e=a.left)==null?void 0:e.call(a),o("div",{class:t("content",n.shape)},[I(),A()]),g()])}}});const Q=B(U);export{Q as S};
