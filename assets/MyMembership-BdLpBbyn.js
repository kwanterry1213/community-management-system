import{c as ee,k as te,t as $,v as ae,x as se,p as ne,I as E,H as oe,w as le}from"./index-BWVXH31t.js";/* empty css              *//* empty css              *//* empty css              */import{C as ie}from"./index-B92FUirh.js";import{T as ce}from"./index-BvNP-Emz.js";import{C as re}from"./index-Bj7eSTYp.js";import{N as ue}from"./index-CLT_EdHd.js";import{h as de,a as t,s as ve,x as pe,_ as me,c as y,k as e,n as L,t as l,b as c,q as Y,e as k,r as b,m as q,o as i,g as C,F,l as V}from"./index-C_Q8Tcmt.js";import{p as _e,a as fe,P as Q}from"./index-BDwxuAm-.js";import{L as be}from"./use-touch-BsIB0Hnx.js";import{B as he}from"./index-Cd6JmX1C.js";import{a as G}from"./function-call-BNMgHnAe.js";import"./use-route-CsTvONY2.js";import"./use-placeholder-CoeyH0HA.js";import"./interceptor-Dt6I5zSm.js";const[ye,d]=ee("action-sheet"),ke=te({},_e,{title:String,round:$,actions:se(),closeIcon:ae("cross"),closeable:$,cancelText:String,description:String,closeOnPopstate:$,closeOnClickAction:Boolean,safeAreaInsetBottom:$}),ge=[...fe,"round","closeOnPopstate","safeAreaInsetBottom"];var xe=de({name:ye,props:ke,emits:["select","cancel","update:show"],setup(r,{slots:s,emit:_}){const w=n=>_("update:show",n),S=()=>{w(!1),_("cancel")},B=()=>{if(r.title)return t("div",{class:d("header")},[r.title,r.closeable&&t(E,{name:r.closeIcon,class:[d("close"),oe],onClick:S},null)])},T=()=>{if(s.cancel||r.cancelText)return[t("div",{class:d("gap")},null),t("button",{type:"button",class:d("cancel"),onClick:S},[s.cancel?s.cancel():r.cancelText])]},A=n=>{if(n.icon)return t(E,{class:d("item-icon"),name:n.icon},null)},D=(n,v)=>n.loading?t(be,{class:d("loading-icon")},null):s.action?s.action({action:n,index:v}):[t("span",{class:d("name")},[n.name]),n.subname&&t("div",{class:d("subname")},[n.subname])],N=(n,v)=>{const{color:M,loading:h,callback:p,disabled:u,className:O}=n,U=()=>{u||h||(p&&p(n),r.closeOnClickAction&&w(!1),pe(()=>_("select",n,v)))};return t("button",{type:"button",style:{color:M},class:[d("item",{loading:h,disabled:u}),O],onClick:U},[A(n),D(n,v)])},P=()=>{if(r.description||s.description){const n=s.description?s.description():r.description;return t("div",{class:d("description")},[n])}};return()=>t(Q,ve({class:d(),position:"bottom","onUpdate:show":w},ne(r,ge)),{default:()=>{var n;return[B(),P(),t("div",{class:d("content")},[r.actions.map(N),(n=s.default)==null?void 0:n.call(s)]),T()]}})}});const we=le(xe),Ce={class:"membership-page"},Pe={class:"card-section"},Me={class:"card-content"},Oe={class:"card-header"},Se={class:"level-badge"},Ie={class:"qr-placeholder"},ze={class:"card-info"},$e={class:"member-name"},qe={class:"member-id"},Be={class:"card-footer"},Te={key:0,class:"validity"},Ae={key:1,class:"validity"},De={class:"info-section"},Ne={class:"benefits-section"},Ue={class:"benefits-list"},He={key:0,class:"payment-section"},Le={class:"payment-cell-value"},Ye={class:"payment-amount"},Fe={class:"action-section"},Ve={class:"qr-full"},Ee={class:"qr-code-large"},Ke={class:"qr-info"},Re={class:"qr-level"},je={class:"qr-name"},Ge={class:"qr-id"},Qe={class:"payment-popup"},Je={class:"payment-popup-header"},We={class:"payment-summary"},Xe={class:"payment-summary-row"},Ze={class:"payment-summary-row total"},et={class:"amount"},tt={class:"payment-methods"},at=["onClick"],st={class:"method-left"},nt={class:"method-info"},ot={class:"method-name"},lt={class:"method-desc"},it={class:"payment-popup-footer"},ct={__name:"MyMembership",setup(r){const s=b({id:"M-2024-0158",name:"陳大明",level:"committee",joinDate:"2022-06-15",expiryDate:"2026-06-30",status:"active"}),_=q(()=>({committee:{name:"未來街坊圈圈委",icon:"⭐⭐⭐",color:"#d69e2e"},citizen:{name:"未來街坊圈圈民",icon:"⭐⭐",color:"#3182ce"},friend:{name:"未來街坊圈圈友",icon:"⭐",color:"#718096"}})[s.value.level]),w=q(()=>({active:{label:"有效",type:"success"},expiring:{label:"即將到期",type:"warning"},expired:{label:"已過期",type:"danger"}})[s.value.status]),S=q(()=>s.value.status==="expiring"||s.value.status==="expired"),B={committee:[{icon:"todo-list-o",text:"參與決策投票",available:!0},{icon:"friends-o",text:"出席理監事會議",available:!0},{icon:"gift-o",text:"專屬會員福利",available:!0},{icon:"calendar-o",text:"優先活動報名",available:!0},{icon:"coupon-o",text:"合作商家折扣",available:!0}],citizen:[{icon:"todo-list-o",text:"參與決策投票",available:!1},{icon:"friends-o",text:"出席會員大會",available:!0},{icon:"gift-o",text:"專屬會員福利",available:!0},{icon:"calendar-o",text:"優先活動報名",available:!0},{icon:"coupon-o",text:"合作商家折扣",available:!0}],friend:[{icon:"todo-list-o",text:"參與決策投票",available:!1},{icon:"friends-o",text:"出席一般會議",available:!0},{icon:"gift-o",text:"專屬會員福利",available:!1},{icon:"calendar-o",text:"查看活動資訊",available:!0},{icon:"coupon-o",text:"合作商家折扣",available:!1}]},T=q(()=>B[s.value.level]),A={paid:"已付款",pending:"待付款",refunded:"已退款"},D={mpay:"MPay 澳門錢包",alipay:"支付寶 (澳門)",wechat:"微信支付",bank:"銀行轉賬",cash:"現金"},N=[{value:"bank",name:"銀行轉賬",desc:"1-2個工作天確認",icon:"bank-card-o",color:"#d69e2e"},{value:"cash",name:"現金",desc:"到場繳付",icon:"cash-back-record",color:"#718096"}],P=b([{id:1,description:"2025年度會費（一年）",date:"2025-01-15",amount:500,status:"paid",method:"bank"},{id:2,description:"2024年度會費（一年）",date:"2024-01-20",amount:500,status:"paid",method:"cash"},{id:3,description:"2023年度會費（一年）",date:"2023-01-18",amount:500,status:"paid",method:"bank"}]),n=b(!1),v=b(!1),M=b(""),h=b(!1),p=b(null),u=b(""),O=b([]),U=()=>{M.value="選擇會籍方案",O.value=[{name:"半年會籍",subname:"MOP$ 300 · 享會員福利",value:"halfYear",price:"MOP$ 300"},{name:"一年會籍",subname:"MOP$ 500 · 更優惠",value:"oneYear",price:"MOP$ 500"}],v.value=!0},K=()=>{M.value="選擇續費方案",O.value=[{name:"續費半年",subname:"MOP$ 300",value:"halfYear",price:"MOP$ 300"},{name:"續費一年",subname:"MOP$ 500 · 更優惠",value:"oneYear",price:"MOP$ 500"}],v.value=!0},J=g=>{v.value=!1,p.value=g,u.value="",h.value=!0},W=()=>{if(!u.value||!p.value)return;const g=!["bank","cash"].includes(u.value),a=p.value.value==="oneYear"?500:300;P.value.unshift({id:Date.now(),description:p.value.name,date:new Date().toISOString().split("T")[0],amount:a,status:g?"paid":"pending",method:u.value}),g?G({type:"success",message:"付款成功！會籍已更新"}):G({type:"success",message:"已提交，請完成付款"}),h.value=!1,p.value=null,u.value=""};return(g,a)=>{const X=ue,m=E,x=re,R=ce,H=ie,I=he,j=Q,Z=we;return i(),y("div",Ce,[t(X,{title:"我的會籍"}),e("div",Pe,[e("div",{class:L(["membership-card",s.value.level])},[a[7]||(a[7]=e("div",{class:"card-pattern"},null,-1)),e("div",Me,[e("div",Oe,[a[5]||(a[5]=e("div",{class:"org-name"},"未來街坊",-1)),e("span",Se,l(_.value.icon)+" "+l(_.value.name),1)]),e("div",{class:"qr-section",onClick:a[0]||(a[0]=o=>n.value=!0)},[e("div",Ie,[t(m,{name:"qr",size:"80",color:"#fff"})]),a[6]||(a[6]=e("span",{class:"qr-hint"},"點擊放大",-1))]),e("div",ze,[e("div",$e,l(s.value.name),1),e("div",qe,l(s.value.id),1)]),e("div",Be,[s.value.level!=="friend"?(i(),y("div",Te," 有效期至："+l(s.value.expiryDate),1)):(i(),y("div",Ae," 免費會員 · 無到期限制 "))])])],2)]),e("div",De,[t(H,{inset:"",title:"會籍資訊"},{default:c(()=>[t(x,{title:"會籍類型",value:_.value.name},null,8,["value"]),t(x,{title:"會員編號",value:s.value.id},null,8,["value"]),t(x,{title:"加入日期",value:s.value.joinDate},null,8,["value"]),t(x,{title:"到期日期",value:s.value.level!=="friend"?s.value.expiryDate:"無"},null,8,["value"]),t(x,{title:"會籍狀態"},{value:c(()=>[t(R,{type:w.value.type},{default:c(()=>[C(l(w.value.label),1)]),_:1},8,["type"])]),_:1})]),_:1})]),e("div",Ne,[t(H,{inset:"",title:"會員權益"},{default:c(()=>[e("div",Ue,[(i(!0),y(F,null,V(T.value,(o,z)=>(i(),y("div",{key:z,class:"benefit-item"},[t(m,{name:o.icon,size:"20",color:o.available?"#38a169":"#cbd5e0"},null,8,["name","color"]),e("span",{class:L({disabled:!o.available})},l(o.text),3),o.available?(i(),k(m,{key:0,name:"success",size:"16",color:"#38a169"})):(i(),k(m,{key:1,name:"cross",size:"16",color:"#cbd5e0"}))]))),128))])]),_:1})]),s.value.level!=="friend"?(i(),y("div",He,[t(H,{inset:"",title:"繳費記錄"},{default:c(()=>[(i(!0),y(F,null,V(P.value,o=>(i(),k(x,{key:o.id,title:o.description,label:`${o.date} · ${D[o.method]}`},{value:c(()=>[e("div",Le,[e("span",Ye,"MOP$ "+l(o.amount),1),t(R,{type:o.status==="paid"?"success":"warning",plain:""},{default:c(()=>[C(l(A[o.status]),1)]),_:2},1032,["type"])])]),_:2},1032,["title","label"]))),128)),P.value.length===0?(i(),k(x,{key:0,title:"暫無繳費記錄"})):Y("",!0)]),_:1})])):Y("",!0),e("div",Fe,[s.value.level==="friend"?(i(),k(I,{key:0,type:"primary",block:"",round:"",size:"large",onClick:U},{default:c(()=>[t(m,{name:"star"}),a[8]||(a[8]=C(" 升級成為正式會員 ",-1))]),_:1})):S.value?(i(),k(I,{key:1,type:"warning",block:"",round:"",size:"large",onClick:K},{default:c(()=>[t(m,{name:"replay"}),a[9]||(a[9]=C(" 立即續費 ",-1))]),_:1})):(i(),k(I,{key:2,type:"primary",plain:"",block:"",round:"",size:"large",onClick:K},{default:c(()=>[...a[10]||(a[10]=[C(" 提前續費 ",-1)])]),_:1}))]),t(j,{show:n.value,"onUpdate:show":a[1]||(a[1]=o=>n.value=o),round:"",style:{padding:"30px","text-align":"center"}},{default:c(()=>[e("div",Ve,[e("div",Ee,[t(m,{name:"qr",size:"200",color:"#1a365d"})]),e("div",Ke,[e("div",Re,l(_.value.icon)+" "+l(_.value.name),1),e("div",je,l(s.value.name),1),e("div",Ge,l(s.value.id),1)])])]),_:1},8,["show"]),t(Z,{show:v.value,"onUpdate:show":a[2]||(a[2]=o=>v.value=o),title:M.value,actions:O.value,onSelect:J},null,8,["show","title","actions"]),t(j,{show:h.value,"onUpdate:show":a[4]||(a[4]=o=>h.value=o),position:"bottom",round:"",style:{minHeight:"45%"}},{default:c(()=>{var o,z;return[e("div",Qe,[e("div",Je,[a[11]||(a[11]=e("h3",null,"選擇付款方式",-1)),t(m,{name:"cross",onClick:a[3]||(a[3]=f=>h.value=!1)})]),e("div",We,[e("div",Xe,[a[12]||(a[12]=e("span",null,"方案",-1)),e("span",null,l((o=p.value)==null?void 0:o.name),1)]),e("div",Ze,[a[13]||(a[13]=e("span",null,"費用",-1)),e("span",et,l((z=p.value)==null?void 0:z.price),1)])]),e("div",tt,[(i(),y(F,null,V(N,f=>e("div",{key:f.value,class:L(["payment-method-item",{selected:u.value===f.value}]),onClick:rt=>u.value=f.value},[e("div",st,[t(m,{name:f.icon,size:"24",color:f.color},null,8,["name","color"]),e("div",nt,[e("span",ot,l(f.name),1),e("span",lt,l(f.desc),1)])]),u.value===f.value?(i(),k(m,{key:0,name:"success",color:"#38a169",size:"20"})):Y("",!0)],10,at)),64))]),e("div",it,[t(I,{type:"primary",block:"",round:"",size:"large",disabled:!u.value,onClick:W},{default:c(()=>[...a[14]||(a[14]=[C(" 確認付款 ",-1)])]),_:1},8,["disabled"])])])]}),_:1},8,["show"])])}}},Mt=me(ct,[["__scopeId","data-v-94a2e7f5"]]);export{Mt as default};
