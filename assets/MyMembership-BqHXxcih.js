import{c as L,f as R,t as I,g as j,h as G,p as Q,I as D,H as J,w as W}from"./index-tguEBp1q.js";/* empty css              *//* empty css              */import{C as X}from"./index-DTw5ipHU.js";import{T as Z}from"./index-04i-Y0qf.js";import{C as ee}from"./index-Bf8dXelF.js";import{N as te}from"./index-Cr7FApAp.js";import{g as ae,a as t,s as ne,u as se,_ as oe,c as f,k as a,n as N,t as c,w as u,q as $,d as b,b as g,m as S,o as l,f as q,F as U,l as F}from"./index-CriyYpZg.js";import{p as le,a as ie,P as H}from"./index-Bv6mvJsI.js";import{L as ce,B as re}from"./use-touch-C17jQDJv.js";import{a as ue}from"./function-call-CNaVS6EZ.js";import"./use-placeholder-Bv-utGL9.js";const[de,r]=L("action-sheet"),ve=R({},le,{title:String,round:I,actions:G(),closeIcon:j("cross"),closeable:I,cancelText:String,description:String,closeOnPopstate:I,closeOnClickAction:Boolean,safeAreaInsetBottom:I}),me=[...ie,"round","closeOnPopstate","safeAreaInsetBottom"];var pe=ae({name:de,props:ve,emits:["select","cancel","update:show"],setup(i,{slots:e,emit:d}){const h=n=>d("update:show",n),w=()=>{h(!1),d("cancel")},B=()=>{if(i.title)return t("div",{class:r("header")},[i.title,i.closeable&&t(D,{name:i.closeIcon,class:[r("close"),J],onClick:w},null)])},z=()=>{if(e.cancel||i.cancelText)return[t("div",{class:r("gap")},null),t("button",{type:"button",class:r("cancel"),onClick:w},[e.cancel?e.cancel():i.cancelText])]},C=n=>{if(n.icon)return t(D,{class:r("item-icon"),name:n.icon},null)},x=(n,y)=>n.loading?t(ce,{class:r("loading-icon")},null):e.action?e.action({action:n,index:y}):[t("span",{class:r("name")},[n.name]),n.subname&&t("div",{class:r("subname")},[n.subname])],m=(n,y)=>{const{color:P,loading:O,callback:p,disabled:s,className:A}=n,v=()=>{s||O||(p&&p(n),i.closeOnClickAction&&h(!1),se(()=>d("select",n,y)))};return t("button",{type:"button",style:{color:P},class:[r("item",{loading:O,disabled:s}),A],onClick:v},[C(n),x(n,y)])},k=()=>{if(i.description||e.description){const n=e.description?e.description():i.description;return t("div",{class:r("description")},[n])}};return()=>t(H,ne({class:r(),position:"bottom","onUpdate:show":h},Q(i,me)),{default:()=>{var n;return[B(),k(),t("div",{class:r("content")},[i.actions.map(m),(n=e.default)==null?void 0:n.call(e)]),z()]}})}});const _e=W(pe),fe={class:"membership-page"},be={class:"card-section"},he={class:"card-content"},ye={class:"card-header"},ge={class:"level-badge"},xe={class:"qr-placeholder"},ke={class:"card-info"},we={class:"member-name"},Ce={class:"member-id"},Pe={class:"card-footer"},Oe={key:0,class:"validity"},Ie={key:1,class:"validity"},Se={class:"info-section"},qe={class:"benefits-section"},Be={class:"benefits-list"},ze={key:0,class:"payment-section"},Ae={class:"payment-amount"},Me={class:"action-section"},Te={class:"qr-full"},De={class:"qr-code-large"},Ne={class:"qr-info"},$e={class:"qr-level"},Ue={class:"qr-name"},Fe={class:"qr-id"},He={__name:"MyMembership",setup(i){const e=g({id:"M-2024-0158",name:"陳大明",level:"committee",joinDate:"2022-06-15",expiryDate:"2026-06-30",status:"active"}),d=S(()=>({committee:{name:"未來街坊圈圈委",icon:"⭐⭐⭐",color:"#d69e2e"},citizen:{name:"未來街坊圈圈民",icon:"⭐⭐",color:"#3182ce"},friend:{name:"未來街坊圈圈友",icon:"⭐",color:"#718096"}})[e.value.level]),h=S(()=>({active:{label:"有效",type:"success"},expiring:{label:"即將到期",type:"warning"},expired:{label:"已過期",type:"danger"}})[e.value.status]),w=S(()=>e.value.status==="expiring"||e.value.status==="expired"),B={committee:[{icon:"todo-list-o",text:"參與決策投票",available:!0},{icon:"friends-o",text:"出席理監事會議",available:!0},{icon:"gift-o",text:"專屬會員福利",available:!0},{icon:"calendar-o",text:"優先活動報名",available:!0},{icon:"coupon-o",text:"合作商家折扣",available:!0}],citizen:[{icon:"todo-list-o",text:"參與決策投票",available:!1},{icon:"friends-o",text:"出席會員大會",available:!0},{icon:"gift-o",text:"專屬會員福利",available:!0},{icon:"calendar-o",text:"優先活動報名",available:!0},{icon:"coupon-o",text:"合作商家折扣",available:!0}],friend:[{icon:"todo-list-o",text:"參與決策投票",available:!1},{icon:"friends-o",text:"出席一般會議",available:!0},{icon:"gift-o",text:"專屬會員福利",available:!1},{icon:"calendar-o",text:"查看活動資訊",available:!0},{icon:"coupon-o",text:"合作商家折扣",available:!1}]},z=S(()=>B[e.value.level]),C=g([{id:1,description:"2025年度會費",date:"2025-01-15",amount:500},{id:2,description:"2024年度會費",date:"2024-01-20",amount:500},{id:3,description:"2023年度會費",date:"2023-01-18",amount:500}]),x=g(!1),m=g(!1),k=g(""),n=g([]),y=()=>{k.value="選擇會籍方案",n.value=[{name:"半年會籍",subname:"MOP$ 300 · 享會員福利",value:"halfYear"},{name:"一年會籍",subname:"MOP$ 500 · 更優惠",value:"oneYear"}],m.value=!0},P=()=>{k.value="選擇續費方案",n.value=[{name:"續費半年",subname:"MOP$ 300",value:"halfYear"},{name:"續費一年",subname:"MOP$ 500 · 更優惠",value:"oneYear"}],m.value=!0},O=p=>{ue({type:"success",message:`已選擇: ${p.name}`}),m.value=!1};return(p,s)=>{const A=te,v=D,_=ee,V=Z,M=X,T=re,Y=H,E=_e;return l(),f("div",fe,[t(A,{title:"我的會籍"}),a("div",be,[a("div",{class:N(["membership-card",e.value.level])},[s[5]||(s[5]=a("div",{class:"card-pattern"},null,-1)),a("div",he,[a("div",ye,[s[3]||(s[3]=a("div",{class:"org-name"},"未來街坊",-1)),a("span",ge,c(d.value.icon)+" "+c(d.value.name),1)]),a("div",{class:"qr-section",onClick:s[0]||(s[0]=o=>x.value=!0)},[a("div",xe,[t(v,{name:"qr",size:"80",color:"#fff"})]),s[4]||(s[4]=a("span",{class:"qr-hint"},"點擊放大",-1))]),a("div",ke,[a("div",we,c(e.value.name),1),a("div",Ce,c(e.value.id),1)]),a("div",Pe,[e.value.level!=="friend"?(l(),f("div",Oe," 有效期至："+c(e.value.expiryDate),1)):(l(),f("div",Ie," 免費會員 · 無到期限制 "))])])],2)]),a("div",Se,[t(M,{inset:"",title:"會籍資訊"},{default:u(()=>[t(_,{title:"會籍類型",value:d.value.name},null,8,["value"]),t(_,{title:"會員編號",value:e.value.id},null,8,["value"]),t(_,{title:"加入日期",value:e.value.joinDate},null,8,["value"]),t(_,{title:"到期日期",value:e.value.level!=="friend"?e.value.expiryDate:"無"},null,8,["value"]),t(_,{title:"會籍狀態"},{value:u(()=>[t(V,{type:h.value.type},{default:u(()=>[q(c(h.value.label),1)]),_:1},8,["type"])]),_:1})]),_:1})]),a("div",qe,[t(M,{inset:"",title:"會員權益"},{default:u(()=>[a("div",Be,[(l(!0),f(U,null,F(z.value,(o,K)=>(l(),f("div",{key:K,class:"benefit-item"},[t(v,{name:o.icon,size:"20",color:o.available?"#38a169":"#cbd5e0"},null,8,["name","color"]),a("span",{class:N({disabled:!o.available})},c(o.text),3),o.available?(l(),b(v,{key:0,name:"success",size:"16",color:"#38a169"})):(l(),b(v,{key:1,name:"cross",size:"16",color:"#cbd5e0"}))]))),128))])]),_:1})]),e.value.level!=="friend"?(l(),f("div",ze,[t(M,{inset:"",title:"繳費記錄"},{default:u(()=>[(l(!0),f(U,null,F(C.value,o=>(l(),b(_,{key:o.id,title:o.description,label:o.date},{value:u(()=>[a("span",Ae,"MOP$ "+c(o.amount),1)]),_:2},1032,["title","label"]))),128)),C.value.length===0?(l(),b(_,{key:0,title:"暫無繳費記錄"})):$("",!0)]),_:1})])):$("",!0),a("div",Me,[e.value.level==="friend"?(l(),b(T,{key:0,type:"primary",block:"",round:"",size:"large",onClick:y},{default:u(()=>[t(v,{name:"star"}),s[6]||(s[6]=q(" 升級成為正式會員 ",-1))]),_:1})):w.value?(l(),b(T,{key:1,type:"warning",block:"",round:"",size:"large",onClick:P},{default:u(()=>[t(v,{name:"replay"}),s[7]||(s[7]=q(" 立即續費 ",-1))]),_:1})):(l(),b(T,{key:2,type:"primary",plain:"",block:"",round:"",size:"large",onClick:P},{default:u(()=>[...s[8]||(s[8]=[q(" 提前續費 ",-1)])]),_:1}))]),t(Y,{show:x.value,"onUpdate:show":s[1]||(s[1]=o=>x.value=o),round:"",style:{padding:"30px","text-align":"center"}},{default:u(()=>[a("div",Te,[a("div",De,[t(v,{name:"qr",size:"200",color:"#1a365d"})]),a("div",Ne,[a("div",$e,c(d.value.icon)+" "+c(d.value.name),1),a("div",Ue,c(e.value.name),1),a("div",Fe,c(e.value.id),1)])])]),_:1},8,["show"]),t(E,{show:m.value,"onUpdate:show":s[2]||(s[2]=o=>m.value=o),title:k.value,actions:n.value,onSelect:O},null,8,["show","title","actions"])])}}},Ze=oe(He,[["__scopeId","data-v-64a1a83b"]]);export{Ze as default};
